
//0
int song_duration0[SONG_NUM]={
180 + 43,//0 Dirty Harry - Gorillaz 
180 + 43,//1 Feel Good Inc - Gorillaz 
120 + 41,//2 November Has Come (Ft. MF DOOM) - Gorillaz 
300 + 12,//3 Blood Sugar - Pendulum 
240 + 45,//4 Self vs. Self - Pendulum 
240 + 29,//5 Demon Days - Gorillaz 
300 + 39,//6 Clint Eastwood - Gorillaz 
180 + 34,//7 Ink - Finch 
180 + 17,//8 Wake The Dead - Comeback Kid 
60 + 39//9 Track99 - Marilyn Manson 
};

char *song_name0[SONG_NUM]={
"Dirty Harry - Gorillaz",
"Feel Good Inc - Gorillaz",
"November Has Come (Ft. MF DOOM) - Gorillaz", 
"Blood Sugar - Pendulum",
"Self vs. Self - Pendulum", 
"Demon Days - Gorillaz",
"Clint Eastwood - Gorillaz",
"Ink - Finch",
"Wake The Dead - Comeback Kid",
"Track99 - Marilyn Manson"
};

char *album_name0[SONG_NUM]={
"Demon Days (2005)",
"Demon Days (2005)",
"Demon Days (2005)",
"Hold Your Colour (2005)",
"Immersion (2010)",
"Demon Days (2005)",
"Gorillaz (2001)",
"Say Hello to Sunshine (2005)",
"Wake The Dead (2005)",
"Antichrist Superstar (1996)"
};


//1
int song_duration1[SONG_NUM]={
240 + 7, //0 Tuned to a Different Station - Dogs  
300 + 32, //1 Seize the Day - Avenged Sevenfold
180 + 31, //2 Bite The Hand That Feeds - NIÐ˜
180 + 38, //3 I was Once lost but I am now Profound - From First To Last
180 + 37, //4 Hand of Blood - Bullet For My Valetine
180 + 36, //5 In The End - Linkin Park
240 + 4, //6 My Curse - Killswitch Engage
360 + 29, //7 Voodoo People - The Prodigy
240 + 2, //8 My Happy Ending - Avril Lavigne
180 + 33 //9 Rollin' - Limp Bizkit
};

char *song_name1[SONG_NUM]={
"Tuned to a Different Station - Dogs",
"Seize the Day - Avenged Sevenfold",
"Bite The Hand That Feeds - NIN",
"I was Once lost but I am now Profound - From First To Last",
"Hand of Blood - Bullet For My Valetine",
"In The End - Linkin Park",
"My Curse - Killswitch Engage",
"Voodoo People - The Prodigy",
"My Happy Ending - Avril Lavigne",
"Rollin' - Limp Bizkit"
};

char *album_name1[SONG_NUM]={
"Turned Against This Land (2005)",
"City Of Evil (2005)",
"[WITH_TEETH] (2005)",
"From First To Last (2008)",
"Hand of Blood (2005)",
"Hybrid Theory (2000)",
"As Daylight Dies (2006)",
"Music For the Jilted Generation (1999)",
"Under My Skin (2004)",
"Chocolate Starfish and The Hot Dog Flavored Water (2000)"
};





//2
int song_duration2[SONG_NUM]={
180 + 14, //0 Forgotten - Linkin Park
300 + 20, //1 Hold Your Colour - Pendulum
420 + 12, //2 The Tempest - Pendulum
240 + 14, //3 The Archer's Bows Have Broken - Brand New
120 + 48, //4 F.I.G.H.T - Unwritten Law
180 + 4, //5 Friction - B'z
//420 + 52, //5 Year Zero - The Struggle
300 + 14, //6 Antichrist Superstar
300 + 34, //7 Coma White - Marilyn Manson
240 + 12, //8 Witchcraft - Pendulum
360 + 32 //9 OCTOBER - Evanescence
};

char *song_name2[SONG_NUM]={
"Forgotten - Linkin Park",
"Hold Your Colour - Pendulum",
"The Tempest - Pendulum",
"The Archer's Bows Have Broken - Brand New",
"F.I.G.H.T - Unwritten Law",
//"Year Zero - The Struggle",
"Friction - B'z",
"Antichrist Superstar - Marilyn Manson",
"Coma White - Marilyn Manson",
"Witchcraft - Pendulum",
"OCTOBER - Evanescence"
};

char *album_name2[SONG_NUM]={
"Hybrid Theory (2000)",
"Hold Your Colour (2005)",
"In Silico (2008)",
"The Devil And God Are Raging Inside Me (2006)",
"Here's To The Mourning (2005)",
//"30 Seconds to Mars (2002)",
"Action (2007)",
"Antichrist Superstar (1996)",
"Mechanical Animals (1998)",
"Immersion (2010)",
"Fallen (2003)"
};






//3
int song_duration3[SONG_NUM]={
180 + 7, //0 Solo Impala (Take the Money and Run) - The Fashion
240 + 2, //1 Letters from the Ambulance - The Fashion
240 + 14, //2 Like Knives - The Fashion
360 + 10, //3 Man That You Fear - Marilyn Manson
360 + 36, //4 Today - JunkieXL
240 + 22, //5 Liquid Blue - DJ Seph
180 + 40, //6 Heard That Sound - MxPx
180 + 18, //7 Animal Alpha - Bundy
180 + 36, //8 All The Rage - Funeral For A Friend
300 + 31 //9 An Honest Mistake (Superdiscount Remix)- The Bravery
};

char *song_name3[SONG_NUM]={
"Solo Impala (Take the Money and Run) - The Fashion",
"Letters from the Ambulance - The Fashion",
"Like Knives - The Fashion",
"Man That You Fear - Marilyn Manson",
"Today - JunkieXL",
"Liquid Blue - DJ Seph",
"Heard That Sound - MxPx",
"Bundy - Animal Alpha",
"All The Rage - Funeral For A Friend",
"An Honest Mistake (Superdiscount Remix)- The Bravery"
};

char *album_name3[SONG_NUM]={
"The Fashion (2007)",
"The Fashion (2007)",
"The Fashion (2007)",
"Antichrist Superstar (1996)",
"Today (2006)",
"DJ Seph (2006)",
"Panic (2005)",
"Pheromones (2005)",
"Hours (2005)",
"Superdiscount (2005)"
};






//4
int song_duration4[SONG_NUM]={
120 + 54, //0 Little Sister - Queens of the Stone Age
120 + 21, //1 I Want - Goldfinger
180 + 9, //2 Not the Sun - Brand New
360 + 27, //3 9000 Miles - Pendulum
300 + 2, //4 Tarantula - Pendulum
240 + 21, //5 Granite - Pendulum
300 + 4, //6 Mister Superstar - Marilyn Manson
180 + 39, //7 New Model No 15 - Marilyn Manson
240 + 6, //8 Surrender - Billy Talent
180 + 25, //9 Top of the World - The All-American Rejects
};

char *song_name4[SONG_NUM]={
"Little Sister - Queens of the Stone Age",
"I Want - Goldfinger",
"Not the Sun - Brand New",
"9000 Miles - Pendulum",
"Tarantula - Pendulum",
"Granite - Pendulum",
"Mister Superstar - Marilyn Manson",
"New Model No 15 - Marilyn Manson",
"Surrender - Billy Talent",
"Top of the World - The All-American Rejects",
};

char *album_name4[SONG_NUM]={
"Lullabies To Paralyze (2005)",
"Disconnection Notice (2004)",
"The Devil And God Are Raging Inside Me (2006)",
"In Silico (2008)",
"Hold Your Colour (2005)",
"In Silico (2008)",
"Antichrist Superstar (1996)",
"Mechanical Animals (1998)",
"Billy Talent II (2006)",
"Move Along (2005)"
};






//5
int song_duration5[SONG_NUM]={
180 + 51, //0 Tourniquet - Evanescence 
300 + 42, //1 You Wont Know - Brand New
300 + 49, //2 Echelon - 30 Seconds to Mars
180 + 19, //3 Fallen Leaves - Billy Talent
240 + 1, //4 In My Head - Queens of the Stone Age
180 + 25, //5 Night Drive - The All-American Rejects
180 + 4, //6 Runaway - Linkin Park
300 + 7, //7 Sounds of Life - Pendulum
180 + 5, //8 Welcome to Cambodia - Brand New
120 + 22 //9 Bad Girl - Avril Lavigne
};

char *song_name5[SONG_NUM]={
"Tourniquet - Evanescence",
"You Wont Know - Brand New",
"Echelon - 30 Seconds to Mars",
"Fallen Leaves - Billy Talent",
"In My Head - Queens of the Stone Age",
"Night Drive - The All-American Rejects",
"Runaway - Linkin Park",
"Sounds of Life - Pendulum",
"Welcome to Cambodia - Brand New",
"Bad Girl (ft. Marilyn Manson) - Avril Lavigne"
};

char *album_name5[SONG_NUM]={
"Fallen (2003)",
"The Devil And God Are Raging Inside Me (2006)",
"30 Seconds to Mars (2002)",
"Billy Talent II (2006)",
"Lullabies To Paralyze (2005)",
"Move Along (2005)",
"Hybrid Theory (2000)",
"Hold Your Colour (2005)",
"The Devil And God Are Raging Inside Me (2006)",
"Avril Lavigne (2013)"
};






//6
int song_duration6[SONG_NUM]={
300 + 4, //0 Watercolour - Pendulum
180 + 21, //1 Banquet - Bloc Party
360 + 26, //2 Fasten Your Seatbelt - Pendulum
180 + 43, //3 I'm With You - Avril Lavigne
180 + 29, //4 Oblivion - 30 Seconds to Mars
180 + 9, //5 Rock Is Dead - Marilyn Manson
240 + 29, //6 Tourniquet - Marilyn Manson
180 + 44, //7 Worker Bees - Billy Talent
180 + 29, //8 Crawling - Linkin Park
240 + 13 //9 Crush - Pendulum
};

char *song_name6[SONG_NUM]={
"Watercolour - Pendulum",
"Banquet - Bloc Party",
"Fasten Your Seatbelt - Pendulum",
"I'm With You - Avril Lavigne",
"Oblivion - 30 Seconds to Mars",
"Rock Is Dead - Marilyn Manson",
"Tourniquet - Marilyn Manson",
"Worker Bees - Billy Talent",
"Crawling - Linkin Park",
"Crush - Pendulum"
};

char *album_name6[SONG_NUM]={
"Immersion (2010)",
"Silent Alarm (2006)",
"Hold Your Colour (2005)",
"Let Go (2002)",
"30 Seconds to Mars (2002)",
"Mechanical Animals (1998)",
"Antichrist Superstar (1996)",
"Billy Talent II (2006)",
"Hybrid Theory (2000)",
"Immersion (2010)"
};






//7
int song_duration7[SONG_NUM]={
300 + 39, //0 Slam
180 + 38, //1 The Beautiful People
300 + 7, //2 The Other Side Remix - The Doors vs BT
360 + 34, //3 Blinded in Chains - Avenged Sevenfold
180 + 40, //4 Celebration Song - Unwritten Law
240 + 33, //5 Mechanical Animals - Marilyn Manson
240 + 0, //6 Move Along - The All-American Rejects
300 + 13, //7 Propane Nightmares - Pendulum
240 + 35, //8 Reason Is Treason - Kasabian
180 + 24, //9 Sk8er Boi - Avril Lavigne
};

char *song_name7[SONG_NUM]={
"Slam - Pendulum",
"The Beautiful People - Marilyn Manson",
"The Other Side Remix - The Doors vs BT",
"Blinded in Chains - Avenged Sevenfold",
"Celebration Song - Unwritten Law",
"Mechanical Animals - Marilyn Manson",
"Move Along - The All-American Rejects",
"Propane Nightmares - Pendulum",
"Reason Is Treason - Kasabian",
"Sk8er Boi - Avril Lavigne"
};

char *album_name7[SONG_NUM]={
"Hold Your Colour (2005)",
"Antichrist Superstar (1996)",
"BT (2004)",
"City Of Evil (2005)",
"Here's To The Mourning (2005)",
"Mechanical Animals (1998)",
"Move Along (2005)",
"In Silico (2008)",
"Kasabian (2004)",
"Let Go (2002)"
};






//8
int song_duration8[SONG_NUM]={
80 + 27, //0 Lights And Sounds - Yellowcard
240 + 5, //1 Bring Me To Life - Evanescence
180 + 40, //2 Helicopter - Bloc Party
240 + 16, //3 Millstone - Brand New
240 + 58, //4 Burn it Down - Avenged Sevenfold
240 + 4, //5 Complicated - Avril Lavigne
240 + 37, //6 Edge of the Earth - 30 Seconds to Mars
180 + 34, //7 Here's to Never Growing Up - Avril Lavigne
120 + 35, //8 One Step Closer - Linkin Park
180 + 16, //9 Red Flag - Billy Talent
};

char *song_name8[SONG_NUM]={
"Lights And Sounds - Yellowcard",
"Bring Me To Life - Evanescence",
"Helicopter - Bloc Party",
"Millstone - Brand New",
"Burn it Down - Avenged Sevenfold",
"Complicated - Avril Lavigne",
"Edge of the Earth - 30 Seconds to Mars",
"Here's to Never Growing Up - Avril Lavigne",
"One Step Closer - Linkin Park",
"Red Flag - Billy Talent"
};

char *album_name8[SONG_NUM]={
"Lights and Sounds (2006)",
"Fallen (2003)",
"Silent Alarm (2005)",
"The Devil And God Are Raging Inside Me (2006)",
"City Of Evil (2005)",
"Let Go (2002)",
"30 Seconds to Mars (2002)",
"Avril Lavigne (2013)",
"Hybrid Theory (2000)",
"Billy Talent II (2006)"
};






//9
int song_duration9[SONG_NUM]={
180 + 41, //0 Going Under - Evanescence
120 + 38, //1 My Everything - Goldfinger
300 + 40, //2 Beast and the Harlot - Avenged Sevenfold
180 + 53, //3 Capricon (A Brand New Name) - 30 Seconds to Mars
180 + 35, //4 Club Foot - Kasabian
240 + 17, //5 Irresponsible Hate Anthem - Marilyn Manson
180 + 53, //6 Losing Grip - Avril Lavigne
180 + 3, //7 Papercut - Linkin Park
180 + 26, //8 Rock N Roll - Avril Lavigne
240 + 26 //9 Scream Aim Fire - Bullet For My Valentine
};

char *song_name9[SONG_NUM]={
"Going Under - Evanescence",
"My Everything - Goldfinger",
"Beast and the Harlot - Avenged Sevenfold",
"Capricon (A Brand New Name) - 30 Seconds to Mars",
"Club Foot - Kasabian",
"Irresponsible Hate Anthem - Marilyn Manson",
"Losing Grip - Avril Lavigne",
"Papercut - Linkin Park",
"Rock N Roll - Avril Lavigne",
"Scream Aim Fire - Bullet For My Valentine"
};

char *album_name9[SONG_NUM]={
"Fallen (2003)",
"Disconnection Notice (2004)",
"City Of Evil (2005)",
"30 Seconds to Mars (2002)",
"Kasabian (2004)",
"Antichrist Superstar (1996)",
"Let Go (2002)",
"Hybrid Theory (2000)",
"Avril Lavigne (2013)",
"Scream Aim Fire (2005)"
};






//10
int song_duration10[SONG_NUM]={
180 + 12, //0 Nobody Move, Nobody Get Hurt - We Are Scientists
180 + 50, //1 Hot Dog - Limp Bizkit
60 + 54, //2 Medication - Queens of the Stone Age
180 + 43, //3 This Scene is Dead - We Are Scientists
180 + 41,//4 My Generation - Limp Bizkit
240 + 33, //5 My Way - Limp Bizkit
240 + 24, //6 Livin' It Up - Limp Bizkit
180 + 18, //7 The Great Escape - We Are Scientists
180 + 34, //8 Bury Your Head - Saosin
240 + 0 //9 Some Sense of Security - Saosin
};

char *song_name10[SONG_NUM]={
"Nobody Move, Nobody Get Hurt - We Are Scientists",
"Hot Dog - Limp Bizkit",
"Medication - Queens of the Stone Age",
"This Scene is Dead - We Are Scientists",
"My Generation - Limp Bizkit",
"My Way - Limp Bizkit",
"Livin' It Up - Limp Bizkit",
"The Great Escape - We Are Scientists",
"Bury Your Head - Saosin",
"Some Sense of Security - Saosin"
};

char *album_name10[SONG_NUM]={
"With Love and Squalor (2005)",
"Chocolate Starfish and The Hot Dog Flavored Water (2000)",
"Lullabies To Paralyze (2005)",
"With Love and Squalor (2005)",
"Chocolate Starfish and The Hot Dog Flavored Water (2000)",
"Chocolate Starfish and The Hot Dog Flavored Water (2000)",
"Chocolate Starfish and The Hot Dog Flavored Water (2000)",
"With Love and Squalor (2005)",
"Saosin (2006)",
"Saosin (2006)"
};






//11
int song_duration11[SONG_NUM]={
180 + 54, //0 It's Far Better To Learn - Saosin
120 + 51, //1 Sleepers - Saosin
120 + 48, //2 It's So Simple - Saosin
180 + 37, //3 Voices - Saosin
180 + 9, //4 Finding Home - Saosin
180 + 19, //5 Follow and Feel - Saosin
180 + 15, //6 Come Close - Saosin
180 + 29, //7 I Never Wanted To - Saosin
180 + 15, //8 Collapse - Saosin
180 + 58, //9 You're Not Alone - Saosin
};

char *song_name11[SONG_NUM]={
"It's Far Better To Learn - Saosin",
"Sleepers - Saosin",
"It's So Simple - Saosin",
"Voices - Saosin",
"Finding Home - Saosin",
"Follow and Feel - Saosin",
"Come Close - Saosin",
"I Never Wanted To - Saosin",
"Collapse - Saosin",
"You're Not Alone - Saosin",
};

char *album_name11[SONG_NUM]={
"Saosin (2006)",
"Saosin (2006)",
"Saosin (2006)",
"Saosin (2006)",
"Saosin (2006)",
"Saosin (2006)",
"Saosin (2006)",
"Saosin (2006)",
"Saosin (2006)",
"Saosin (2006)"
};






//12
int song_duration12[SONG_NUM]={
180 + 40, //0 An Honest Mistake - The Bravery
180 + 45, //1 Echoes - Klaxons
240 + 18, //2 Two Recievers - Klaxons
180 + 4, //3 No Brakes - The Bravery
180 + 7, //4 Fearless - The Bravery
240 + 44, //5 Tyrant - The Bravery
180 + 26, //6 It's a Hit - We Are Scientists
240 + 19, //7 Twin Flames - Klaxons
180 + 19, //8 Unconditional - The Bravery
300 + 4 //9 Voodoo People (Pendulum Remix) - The Prodigy
};

char *song_name12[SONG_NUM]={
"An Honest Mistake - The Bravery",
"Echoes - Klaxons",
"Two Recievers - Klaxons",
"No Brakes - The Bravery",
"Fearless - The Bravery",
"Tyrant - The Bravery",
"It's a Hit - We Are Scientists",
"Twin Flames - Klaxons",
"Unconditional - The Bravery",
"Voodoo People (Pendulum Remix) - The Prodigy",
};

char *album_name12[SONG_NUM]={
"The Bravery (2005)",
"Surfing The Void (2010)",
"Myths of the Near Future (2007)",
"The Bravery (2005)",
"The Bravery (2005)",
"The Bravery (2005)",
"With Love and Squalor (2005)",
"Surfing The Void (2010)",
"The Bravery (2005)",
"(2005)"
};



int *song_durations[SONG_FOLDER_NUM]={
  song_duration0,
  song_duration1,
  song_duration2,
  song_duration3,
  song_duration4,
  song_duration5,
  song_duration6,
  song_duration7,
  song_duration8,
  song_duration9,
  song_duration10,
  song_duration11,
  song_duration12
};

char **song_names[SONG_FOLDER_NUM]={
  song_name0,
  song_name1,
  song_name2,
  song_name3,
  song_name4,
  song_name5,
  song_name6,
  song_name7,
  song_name8,
  song_name9,
  song_name10,
  song_name11,
  song_name12
};

char **album_names[SONG_FOLDER_NUM]={
  album_name0,
  album_name1,
  album_name2,
  album_name3,
  album_name4,
  album_name5,
  album_name6,
  album_name7,
  album_name8,
  album_name9,
  album_name10,
  album_name11,
  album_name12
};



//create public array of folders with songs
int song_folder_num=0;
int music_folder_arr[SONG_FOLDER_NUM];

int song_time_end=0;
int time_now=0;
bool play_new_song=false;


int rand_song1=1,rand_song2=0;



void InitSongBank() {
  song_folder_num=0;
  for (int f=0;f<SONG_FOLDER_NUM;f++) {
    int f_tmp = f;
    char folder[8];
    if (f<10) {
      sprintf(folder,"music/0%d",f_tmp);
    } else {
      sprintf(folder,"music/%d",f_tmp);
    }
    DIR *dir=opendir(folder);
    if (dir) { // if folder exists
      closedir(dir);
      music_folder_arr[song_folder_num]=f;
      song_folder_num++;
    } else {
      music_folder_arr[song_folder_num]=1;    
    }
  }
  if (song_folder_num>0) {
    song_names[1][0]="Tuned to a Different Station - Dogs";
    album_names[1][0]="Turned Against This Land (2005)";
  } else {
    song_names[1][0]="No Songs Available";
    album_names[1][0]="";

    song_time_end=0;
    time_now=0;
    play_new_song=false;
    rand_song1=1;
    rand_song2=0;
  }
}







//DWORD WINAPI SongTask(LPVOID lpArg) {
void SongAct() {
  srand(time(NULL));
  char songname[14];
//  while (true) {
    if (song_folder_num>0) {
      if (play_new_song) { //play a song
        rand_song1=music_folder_arr[RandNum(0,song_folder_num-1)]; //dynamic songbank version
      //rand_song1=RandNum(0,SONG_FOLDER_NUM-1); //full version
      //rand_song1=1; //demo version
        rand_song2=RandNum(0,SONG_NUM-1);
        time_now=int_current_timestamp();//get time in seconds
        song_time_end=time_now+song_durations[rand_song1][rand_song2]+2;

      //printf("%d\n",rand_song2); //debug
      //printf("%s",song_name0[rand_song2]);
        if (rand_song1<10)
          sprintf(songname,"music/0%d/%d.wav",rand_song1,rand_song2);
        else
          sprintf(songname,"music/%d/%d.wav",rand_song1,rand_song2);
      //printf("%s\n",songname); //debug
      //printf("%d",rand_song2);
      //printf("%d",time_end);
        play_new_song=false;
        PlaySoundA(songname,NULL,SND_FILENAME | SND_ASYNC); //plays sound async
      }

      time_now=int_current_timestamp();//get time in seconds
    //printf("diff:%d\n",song_time_end-time_now);
      if (time_now>song_time_end && !play_new_song) {
        PlaySound(NULL, NULL, SND_ASYNC); //stop song
        play_new_song=true;
      }
    }
//    Sleep(6);
//  }
}

